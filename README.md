# 数据加密解密程序

作者：闻嘉迅
日期：2023.9.7 (最后修改)
版本：v1.0

## 加密原理

对于目标文件进行AES128加密  
对加密后的信息和密钥进行sha1哈希操作  
得到最终的加密文件  

## 文件结构

- aes.h:AES加解密相关的头文件
- cry.h:加解密流程相关的头文件
- sha1.h:进行sha1哈希相关的头文件

- aesd.c:负责AES解密的各流程
- aese.c:负责AES加密的各流程
- cry.c:负责整体加解密流程
- main.c:主函数
- sha1.c:负责产生sha1哈希的流程
- tab.c:生成各种数表

## 使用方法

使用`make`命令进行编译

### 加密

直接使用`./wencry`命令，按提示进行操作

使用`./wencry -e [fin] [code] [fout]`命令进行加密  
其中 -e 代表加密选项 fin 为输入文件的路径 code 为16字节(共32位)16进制数，若输入G则为程序生成 fout 为输出文件名，缺省为 fin 值。  

加密完毕后会生成名为 [fout].wenc 的加密文件

### 解密

直接使用`./wencry`命令，按提示进行操作

使用`./wencry -d [fin] [code] [fout]`命令进行加密  
其中 -e 代表加密选项 fin 为输入文件的路径 code 为16字节(共32位)16进制数 fout 为输出文件名，缺省为 [fin].wdec 。

解密完毕后若无误则会生成名为 fout 的还原文件。